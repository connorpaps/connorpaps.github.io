<h1>Editing Item {{ itemName }}</h1>
<div class="card-wrapper">
  <div fxLayout="row">
    <mat-card fxLayout="row" fxFlex="80%" class="center space-top">
      <mat-card-content fxLayout.gt-sm="row">
        <!--form for new item details-->
        <form #addItemForm="ngForm" (ngSubmit)="onSubmit()">
          <!--image selection-->
          <div fxLayout.gt-sm="column" fxFlex.gt-sm="30%" class="imageColumn">
            <div *ngIf="this.images">
                <img
                mat-card-image
                [src]="this.images[0].item_image_path"
                alt="Item image"
                />
            </div>
            <div *ngIf="!images">
              <img
              mat-card-image
              src="../../assets/images/bluelogo.png"
              alt="Item image"
            />
            </div>

            <!--Replace with proper image editing support-->
            <button (click)="addImage()">Add Images</button>
          </div>
          <div fxLayout.gt-sm="column" fxFlex.gt-sm="45%">
            <div class="bordered-section">
              <!--name field-->
              <strong>Name</strong>
              <mat-form-field class="full-width-input">
                <input
                  matInput
                  name="name"
                  required
                  autofocus
                  [(ngModel)]="itemModel.item_title"
                />
                <mat-error>Item name cannot be empty.</mat-error>
              </mat-form-field>
              <!--description field-->
              <strong>Description</strong>
              <mat-form-field class="full-width-input">
                <textarea
                  matInput
                  name="description"
                  required
                  autofocus
                  [(ngModel)]="itemModel.item_description"
                ></textarea>
                <mat-error>Description cannot be empty.</mat-error>
              </mat-form-field>
            </div>
            <!--template info-->
            <div class="bordered-section min-height">
              <!--name field-->
              <strong>Template</strong>
              <mat-form-field class="full-width-input">
                <input
                  matInput
                  name="template"
                  required
                  autofocus
                  [(ngModel)]="itemModel.template_name"
                />
                <mat-error>Item name cannot be empty.</mat-error>
              </mat-form-field>
            </div>
          </div>
          <div fxLayout.gt-sm="column" fxFlex.gt-sm="25%">
            <!--Storage Fields-->
            <div class="bordered-section">
              <!--storage type field-->
              <strong>Storage Type</strong>
              <mat-form-field class="full-width-input">
                <input
                  matInput
                  name="storage-type"
                  required
                  autofocus
                  [(ngModel)]="itemModel.storage_type"
                />
                <mat-error>Storage type cannot be empty.</mat-error>
              </mat-form-field>
              <!--storage code field-->
              <strong>Storage Code</strong>
              <mat-form-field class="full-width-input">
                <input
                  matInput
                  name="storage-code"
                  required
                  autofocus
                  [(ngModel)]="itemModel.storage_object_id"
                />
                <mat-error>Storage code cannot be empty.</mat-error>
              </mat-form-field>
              <!--storage location field-->
              <strong>Storage Location</strong>
              <mat-form-field class="full-width-input">
                <input
                  matInput
                  name="storage-location"
                  required
                  autofocus
                  [(ngModel)]="itemModel.storage_location"
                />
                <mat-error>Storage location cannot be empty.</mat-error>
              </mat-form-field>
              <!--storage note field-->
              <strong>Storage Notes</strong>
              <mat-form-field class="full-width-input">
                <textarea
                  matInput
                  name="storage-note"
                  required
                  autofocus
                  [(ngModel)]="itemModel.storage_note"
                ></textarea>
                <mat-error>Storage notes cannot be empty.</mat-error>
              </mat-form-field>
            </div>
            <!--Add button-->
            <button
              mat-raised-button
              color="accent"
              type="submit"
              class="submitButton"
            >
              <p
                style="
                  display: inline-flex;
                  align-items: center;
                  margin-top: 10px;
                  font-size: larger;
                "
              >
                Edit Item
              </p>
            </button>
          </div>
        </form>
      </mat-card-content>
      <mat-card-footer>
        <button class="closeButton" mat-button (click)="onClose()" id="closeX">
          X
        </button>
      </mat-card-footer>
    </mat-card>
  </div>
</div>
